<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Card effect</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="cards" style="--clr:#ff5722;">
        <div class="pixel-container"></div>
        <h2>01</h2>
        <div class="content">
            <h3>Design</h3>
            <p>Lorem ipsum, dolor sit amet consectetur adipisicing elit. Nihil, ullam unde? Minus voluptate dolorem in non quibusdam dolorum velit ea.</p>
            <a href="#">Read More</a>
        </div>
    </div>
    <div class="cards" style="--clr:#03a9f4;">
        <div class="pixel-container"></div>
        <h2>01</h2>
        <div class="content">
            <h3>Development</h3>
            <p>Lorem ipsum, dolor sit amet consectetur adipisicing elit. Nihil, ullam unde? Minus voluptate dolorem in non quibusdam dolorum velit ea.</p>
            <a href="#">Read More</a>
        </div>
    </div>
    <div class="cards" style="--clr:#26ff22;">
        <div class="pixel-container"></div>
        <h2>01</h2>
        <div class="content">
            <h3>Design</h3>
            <p>Lorem ipsum, dolor sit amet consectetur adipisicing elit. Nihil, ullam unde? Minus voluptate dolorem in non quibusdam dolorum velit ea.</p>
            <a href="#">Read More</a>
        </div>
    </div>
    <script>
        let cards = document.querySelectorAll('.cards');
        cards.forEach(card => {
            let pixelContainer = card.querySelector('.pixel-container');
            let pixSize = 20;
            let cardWidth = card.offsetWidth;
            let cardHeight = card.offsetHeight;

            let cols = Math.ceil(cardWidth / pixSize);
            let rows = Math.ceil(cardHeight / pixSize);

            for(let row = 0; row < rows; row++){
                for(let col = 0; col < cols; col++){
                    let pixel = document.createElement('div');
                    pixel.classList.add('pixel');
                    pixel.style.left = `${col * pixSize}px`;
                    pixel.style.top = `${row * pixSize}px`;

                    let tx = (Math.random() - 0.5) * 100;
                    let ty = (Math.random() - 0.5) * 100;

                    let delay = Math.random() * 0.5;
                    pixel.style.transitionDelay = `${delay}s`

                    pixel.style.setProperty('--tx',`${tx}px`);
                    pixel.style.setProperty('--ty',`${ty}px`);

                    pixelContainer.appendChild(pixel);
                }
            }
        }
        )
    </script>
</body>
</html>